<!DOCTYPE html>
<html>
<head>
  <title>From Wordpress to Hyde | Boris Smus</title>

  <meta charset='utf-8' />
  <meta name='viewport' content='width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0' />

  <meta name="description" content="or, how I stopped worrying and switched this blog to a Django static site generator." />
  <meta name="author" content="Boris Smus" />
  <link rel="canonical" href="https://smus.com/wordpress-to-hyde/" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="From Wordpress to Hyde" />
  <meta name="twitter:description" content="or, how I stopped worrying and switched this blog to a Django static site generator." />

  <!-- Facebook -->
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://smus.com/wordpress-to-hyde/" />
  <meta property="og:title" content="From Wordpress to Hyde" />
  <meta property="og:description" content="or, how I stopped worrying and switched this blog to a Django static site generator." />

  <!-- Coil monetization experiment: https://coil.com/settings/monetize -->
  <meta name="monetization" content="$ilp.uphold.com/4Fnyw8KLaPZG">

  <!-- Icons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/static/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/static/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/static/icons/favicon-16x16.png">
  <link rel="manifest" href="/static/icons/site.webmanifest">

  <!-- Styles -->
  <link
  href='//fonts.googleapis.com/css?family=Roboto+Condensed:300|Open+Sans+Condensed:700|Source+Serif+Pro:400,700|Inconsolata' rel='stylesheet' type='text/css'>
  <link rel='stylesheet' href='/static/css/style.css'>
  <link rel='stylesheet' href='/static/css/syntax-highlight.css'>

  <!-- Feed -->
  <link href="https://smus.com/atom.xml" rel="alternate" title="Boris Smus" type="application/atom+xml"/>
</head>
<body>
<header>
  <div id='title'>
    <h1><a href='/'>Boris Smus</a></h1>
    <h2>interaction engineering</h2>
  </div>
  <nav role='navigation'>
    <a href='/about/' >About</a>
    <a href='/blog/' >Blog</a>
    <a href='/projects/' >Projects</a>
  </nav>
</header>

<section id='main'>
  <article>
    <a href='/wordpress-to-hyde'><h1 class='title'>From Wordpress to Hyde</h1></a>
    <div class='body'>
      <p>I've used <a href="http://wordpress.com/">Wordpress</a> for a couple of years now as my web publishing platform of
choice. I customized it a little bit, and made a <a href="/new-design">custom theme</a> for it. But 
nothing is perfect, and neither is wordpress. As a result of relatively heavy
use, I've collected a list of things I don't much like about it:</p>

<ul>
<li>Can't upload source code since it restricts allowed file types.</li>
<li>Can't easily edit files with a regular text editor.</li>
<li>Painful theme customization.</li>
<li>PHP makes it unpleasant to extend.</li>
<li>Constant security upgrades required.</li>
</ul>

<p>All of these things separately are perhaps small and insignificant, but
together add up to create a certain barrier to blogging.</p>

<h2>Static files</h2>

<p>A blog is mostly static. Why should my article be stored in a database? It's hardly 
ever queried or searched. Comments are perhaps the exception here, but services
like <a href="http://disqus.com/">Disqus</a> implement commenting with embeddable JavaScript. And in general,
dynamic parts can be handled in client-side code.</p>

<p>So I looked to static site generators. There's about <a href="http://stackoverflow.com/questions/186290/best-static-website-generator">a million</a> of these,
the most prominent of which is <a href="https://github.com/mojombo/jekyll">Jekyll</a>, written by the github co-founder. 
Ultimately I chose <a href="https://github.com/lakshmivyas/hyde/">Hyde</a> for it's use of <a href="http://docs.djangoproject.com/en/dev/ref/templates/builtins/">Django templates</a> and Python.</p>

<h2>Migrating the old blog</h2>

<p>The old blog was written in HTML, but I wanted to switch to a format that can
be written faster, such as Markdown, Textile, or many others. To do this I used
a tool called exitwp, which parses the Wordpress export and generates Markdown
files appropriate for Jekyll. I <a href="https://github.com/borismus/exitwp">forked exitwp</a> and hacked it to generate
files better suited to Hyde. Thanks <a href="http://thomas.jossystem.se/">Thomas Frössman</a> for exitwp.</p>

<p>I did spent a fair amount of time tweaking the export, replacing Smart YouTube URLs
with real YouTube embeds, and eliminating Syntax Highlighter markup.</p>

<h2>Customizing hyde</h2>

<p>Hyde is basically built on top of Django templates, so is customizable with
template tags and filters, written in Python. It comes with a bunch of them,
including ones that parse markdown and other structured text formats into HTML.</p>

<p>Surprisingly I didn't need to customize Hyde much, although I did fix a couple of 
bugs, which the author, <a href="http://ringce.com/">Lakshmi Vyas</a> accepted. Anyway, I feel much more
future proof now than with Wordpress, since I can easily write extensions in
Python, or in the worst case take my Markdown-formatted blog posts and easily
export them to many different formats.</p>

<h2>Dynamic stuff</h2>

<p>The bit of custom JS for the site layout is written using jQuery.</p>

<p>I use the excellent <a href="http://softwaremaniacs.org/soft/highlight/en/">highlight.js</a> plugin to highlight code snippets. The
jQuery <a href="http://timeago.yarp.com/">timeago</a> plugin does a great job of converting absolute dates (April
1, 2010) to relative dates (about a year ago). Finally, Disqus powers comments,
which I migrated from the wordpress database.</p>

<h2>New design</h2>

<p>In my great wisdom, I decided that since there's so much flux in the blog, why not
add some more chaos by switching to a new layout too? Here's the old layout:</p>

<p><img src="/wordpress-to-hyde/old-design.png" alt="old" /></p>

<p>I recently heard from sage advice from some experienced writers. Among things
that stuck were:</p>

<ul>
<li>Optimal posting time is 9am PST</li>
<li>Writing personal posts is OK sometimes</li>
<li>Show personal information in the sidebar</li>
</ul>

<p>The last part is expressed in the new design. Overall the redesign was an
exercise in typography, CSS3 features and <a href="http://www.alistapart.com/articles/responsive-web-design/">responsive layout</a>. </p>

<p><a href="http://www.google.com/webfonts">Google fonts</a> is a nice collection of web fonts. I decided to switch from
Myriad (used on borismus.com) to a serif for the main body for a
change. I ultimately went with <a href="http://www.google.com/webfonts/list?family=PT+Serif">PT Serif</a>, which seemed like a nice
improvement to Georgia, which is probably my favorite serif web font.</p>

<p>I used a bunch (too many?) CSS3 features on the new site. Most of these are
CSS box-shadows, gradients, transformations and transitions. I used <a href="http://sass-lang.com/">SCSS</a>.</p>

<p>Also, following the responsive layout philosophy, I wanted the site to scale well
to a number of different resolutions. For example, the sidebar moves to the end of the 
articles if the window is too narrow. Also, in the <a href="/projects">projects page</a>, the number of 
columns of projects is flexible. This is achieved through <a href="http://www.w3.org/TR/css3-mediaqueries/">CSS media queries</a>.</p>

<p>For posterity, here is the new layout at the time of writing:</p>

<p><img src="/wordpress-to-hyde/new-design.png" alt="new" /></p>

<h2>New domain</h2>

<p>I also recently bought <a href="http://smus.com">smus.com</a> from a fellow in Germany, and will be migrating 
my site there. I'll keep the <a href="http://borismus.com">borismus.com</a> blog intact for a while, but will 
place an annoying banner there, and disable commenting. I guess I should also 
switch the feedburner feed to point to smus.com as well.</p>

<p>Not long ago, I wrote about how switching from webfaction and apache to slicehost
and NGINX greatly <a href="/lightweight-wordpress-on-slicehost/">enhanced page load time</a>. Well, this seems to have happened again.
Over the same time period, the average response time of my wordpress instance was 
<strong>934ms</strong>:</p>

<p><img src="/wordpress-to-hyde/old-perf.png" alt="old perf" /></p>

<p>Over the same time frame, my static blog, hosted on the same machine, responded on 
average in <strong>371ms</strong>:</p>

<p><img src="/wordpress-to-hyde/new-perf.png" alt="new perf" /></p>

<p>Oh, finally, the site is fully open source <a href="http://github.com/borismus/smus.com">on github</a>. </p>

<h2>Thanks</h2>

<p>Thanks to a bunch of people:</p>

<ul>
<li>Sol, Kat and Jon for giving useful design feedback!</li>
<li><a href="http://nlevin.com/">Noah Levin</a> for awesome CSS3 tweaks</li>
<li>Steve Losh for his <a href="http://stevelosh.com/blog/2010/01/moving-from-django-to-hyde/">Hyde migration</a> write-up</li>
</ul>

<p>You, for reading this post and continuing to read this blog. Until next time!</p>

    </div>
    <div class='subfooter'>
      <div class='tombstone'>▪</div>
      <time class='published'>April 20, 2011</time>
    </div>
  </article>
</section>


<footer>
  <div>
    © Copyright 2005–2023 Boris Smus.
  </div>
  <nav role="footer">
    <a href='https://smus.com/atom.xml'>RSS</a>

    <!-- Mastodon verification -->
    <a rel="me" href="https://mastodon.social/@borismus" style="display: none">Mastodon</a>
  </nav>
</footer>

<!-- Misc scripts: syntax highlighting, analytics, stats. -->
<script src="/static/js/highlight.pack.js"></script>
<script>
  // Syntax highlighting for code.
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
</script>
<script>
  // Google Analytics.
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-17930798-22', 'smus.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>
<script src="/lightning_error.js"></script>

</body>
</html>