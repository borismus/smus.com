<!DOCTYPE html>
<html>
<head>
  <title>Boris Smus</title>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0'>

  <!-- Icons -->
  <link rel="icon" type="image/x-icon" href="/static/icons/favicon.ico" />
  <link rel="apple-touch-icon" href="/static/icons/apple-touch-icon.png">

  <!-- Styles -->
  <link href='http://fonts.googleapis.com/css?family=Roboto+Condensed:300,400|Halant|Oxygen+Mono' rel='stylesheet' type='text/css'>
  <link rel='stylesheet' href='/static/build/style.css'>
  <link rel='stylesheet' href='/static/css/syntax-highlight.css'>

  <!-- Feed -->
  <link href="http://feeds.feedburner.com/smuscom" rel="alternate" title="Boris Smus" type="application/atom+xml"/>
</head>
<body>
<header>
  <div id='title'>
    <h1><a href='/'>Boris Smus</a></h1>
    <h2>Interaction engineering</h2>
  </div>
  <nav role='navigation'>
    <a href='/about/'>About</a>
    <a href='/blog/'>Blog</a>
    <a href='/inspiration/'>Clippings</a>
  </nav>
</header>

<section id='main'>
  <article>
    <a href='/nhl-finals-numbers'><h1 class='title'>Crunching numbers for the NHL finals</h1></a>
    <div class='body'>
      <p>Now that the Vancouver Canucks are in the NHL Finals, a special visit to
Vancouver is in order. Unfortunately, the recently posted schedule really
sucks. There’s just one weekend game, and the rest are spaced in such a way
that I can only hope to see Game 5 (if it happens) and either Game 4 or Game 6
(if it happens) if I manage to work from home half of the week. The question
is: which game to choose? I want to be in Vancouver when the Canucks take the
cup!</p>

<h2>Yay math!</h2>

<p>Being super nerdy, I decided to throw math at the problem. Brushing up on
probability, I calculated the odds of a series ending at each game (4-7). For a
series to end in game 4, one team has to win all four games. The odds of this,
given a 50% chance for each team to win, is (1/2)^4. Since there are two teams,
multiply by two, resulting in a 1/8 chance. You can do similar calcuations to
get the following odds:</p>

<pre><code>p(4)   p(5)   p(6)   p(7)
0.125  0.25   0.3125 0.3125
</code></pre>

<p>Based on this distribution, it seems that game 6 is more likely to see the end
of the series than game 4, but then I would risk missing a game 4 victory.
<a href="http://www.ted.com/talks/arthur_benjamin_s_formula_for_changing_math_education.html">Arthur Benjamin</a> would be proud of me (unless my numbers are wrong).</p>

<h2>A bit of history</h2>

<p>Historical data tells a different story. As it turns out, the NHL is really
old, dating back to 1927, but the league switched to best-of-7 scoring in 1939.
Wikipedia has a great chronology of NHL playoffs, complete with scores and
brackets.</p>

<p>I analyzed series scores from all playoff games in the last 25 years (since
1985) by fetching raw wikipedia articles via wget and running them through a
[python script]. Older records can also be found on wikipedia, but they are
buried inside other pages, in harder to parse formats.</p>

<pre><code>for year in {1985..2011} do
  wget -O ${year} "http://en.wikipedia.org/w/index.php?title=${year}_Stanley_Cup_playoffs&amp;action=raw"
done
</code></pre>

<p>This yielded the following distribution for playoff games, based on 383
matches:</p>

<pre><code>p(4)   p(5)   p(6)   p(7)
0.16   0.24   0.33   0.27
</code></pre>

<p>For finals games only, the distribution is more skewed, probably in part due to
a shortage of data (just NN finals games from the wikipedia page), but finals
game history is probably a better predictor for finals games than all playoffs
games, so this is worthwhile:</p>

<pre><code>p(4)   p(5)   p(6)   p(7)
0.28   0.24   0.27   0.21
</code></pre>

<p>Here are all three distributions plotted in a graph:</p>

<p><img src="nhl-series-odds.png" alt="graph" /></p>

<h2>Analyzing...</h2>

<p>The most striking thing about this graph is the huge difference between finals
history and stats, especially in the 4 game series scenario. Perhaps some teams
just buckle under the pressure, while their opponents remain steadfast. Or this
is just a statistically insignificant fluke that can be attributed to having an
insufficiently large sample of finals matches.</p>

<p>As expected, the historical distributions are skewed toward the series
finishing in Game 4 due to unequal strength between teams. In other words, if
one team is stronger than another, then the odds of that team winning each game
would be greater, making the series shorter on average.</p>

<h2>Decision!</h2>

<p>Armed with numbers, I can decide whether to pick Game 4 or Game 6. Here are the
odds of seeing the Canucks (yeah yeah, maybe the Bruins) win in games 4 or 5,
compared to 5 or 6, as calculated from each of the three methods:</p>

<pre><code>         Game 4 or 5            Game 5 or 6
Stats        38%                    58%
Playoffs     40%                    57%
Finals       52%                    51%
</code></pre>

<p>Interesting. Given how annoying it would be to miss a Game 4 victory and how
favorable the finals history-based odds look, I’ll go for 4 and 5. Now to try
to work from home, book flights and bask in Canuck glory!</p>

    </div>
    <div class='subfooter'>
      <div class='tombstone'>▪</div>
      <time class='published'>May 31, 2011</time>
    </div>
  </article>
</section>

<footer>
  <div>
    © Copyright 2008–2015 Boris Smus.
  </div>
  <nav role="footer">
    <a href='http://feeds.feedburner.com/smuscom'>RSS</a>
    <a href='http://twitter.com/borismus'>Twitter</a>
  </nav>
</footer>

<!-- Misc scripts: syntax highlighting, analytics, stats. -->
<script src="/static/js/highlight.pack.js"></script>
<script>
  // Syntax highlighting for code.
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
</script>
<script>
  // Google Analytics.
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-17930798-22', 'smus.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>
<script src="/lightning_error.js"></script>

</body>
</html>