<!DOCTYPE html>
<html>
<head>
  <title>Performance of canvas versus SVG | Boris Smus</title>

  <meta charset='utf-8' />
  <meta name='viewport' content='width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0' />

  <meta name="description" content="A benchmark for comparing Canvas to SVG performance as a function of render element size and number of objects drawn." />
  <meta name="author" content="Boris Smus" />
  <link rel="canonical" href="https://smus.com/canvas-vs-svg-performance/" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Performance of canvas versus SVG" />
  <meta name="twitter:description" content="A benchmark for comparing Canvas to SVG performance as a function of render element size and number of objects drawn." />

  <!-- Facebook -->
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://smus.com/canvas-vs-svg-performance/" />
  <meta property="og:title" content="Performance of canvas versus SVG" />
  <meta property="og:description" content="A benchmark for comparing Canvas to SVG performance as a function of render element size and number of objects drawn." />

  <!-- Mastodon -->
  <link rel="me" href="https://mastodon.social/@borismus">

  <!-- Coil monetization experiment: https://coil.com/settings/monetize -->
  <meta name="monetization" content="$ilp.uphold.com/4Fnyw8KLaPZG">

  <!-- Icons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/static/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/static/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/static/icons/favicon-16x16.png">
  <link rel="manifest" href="/static/icons/site.webmanifest">

  <!-- Styles -->
  <link
  href='//fonts.googleapis.com/css?family=Roboto+Condensed:300|Open+Sans+Condensed:700|Source+Serif+Pro:400,700|Inconsolata' rel='stylesheet' type='text/css'>
  <link rel='stylesheet' href='/static/css/style.css'>
  <link rel='stylesheet' href='/static/css/syntax-highlight.css'>

  <!-- Feed -->
  <link href="https://smus.com/atom.xml" rel="alternate" title="Boris Smus" type="application/atom+xml"/>
</head>
<body>
<header>
  <div id='title'>
    <h1><a href='/'>Boris Smus</a></h1>
    <h2>interaction engineering</h2>
  </div>
  <nav role='navigation'>
    <a href='/about/' >About</a>
    <a href='/blog/' >Blog</a>
    <a href='/projects/' >Projects</a>
  </nav>
</header>

<section id='main'>
  <article>
    <a href='/canvas-vs-svg-performance'><h1 class='title'>Performance of canvas versus SVG</h1></a>
    <div class='body'>
      <p>At the core of the traditional HTML/CSS developer's toolkit is a set of nested
boxes describing offset, margin, border and padding, known as the box model.
Variations on the box theme are sufficient to describe most page layouts, but
in some complex applications, it's necessary to render something more
interesting, like diagonal lines, or polygons. There are currently two
relatively well-supported web graphics technologies: SVG and Canvas. There are
significant performance differences, however, which I would like to discuss in
this article. </p>

<p><a href="http://en.wikipedia.org/wiki/Svg">Scalable Vector Graphics</a> (SVG) is by far the oldest of the two. It is a
declarative, graphical language used to describe geometrical primitives via DOM
elements. SVG was drafted in the late 90s, and the latest version of 
<a href="http://www.w3.org/TR/SVG11/">SVG, version 1.1</a> was finalized in 2003. It took 3 more years for it to be
incorporated into shipping versions of Mozilla Firefox and Safari.
Unfortunately, the length of the SVG adoption process caused the web
development community to seek other options. The <a href="http://en.wikipedia.org/wiki/Canvas_(HTML_element)">HTML5 Canvas</a> element was
introduced as a much simpler alternative to graphics on the web. It provides an
image-like graphics context which can be accessed via a set of javascript
calls, similar to a 2D subset of OpenGL. It was originally introduced by Apple
in WebKit builds, but is now supported in Mozilla Firefox as well. </p>

<p>I produced some metrics to compare the two technologies in terms of performance
by writing a Javascript program for <a href="/canvas-vs-svg-performance/canvas-svg-benchmark/">collecting performance data</a>. This
program draws rows of circles onto a fixed-size drawing area in SVG and in
Canvas, and then compares how long various operations take. It also records the
duration to create the initial drawing context, to render the scene and to
clear the scene. A test runner invokes the benchmark with the following
variables: number of circles, drawing area dimensions and circle size. Each of
these variables are varied independantly and automatically resulting in the
following observations: </p>

<p><img src="/canvas-vs-svg-performance/varying-number-of-objects.png" alt="Varying the number of objects" /> </p>

<p>Here are the results of the first fruitful experiment, which clearly shows that
SVG performance degrades quickly (exponentially on Safari?) in the number of
objects, but Canvas performance remains at a near-constant low. This makes
sense, since Canvas is just a bitmap buffer, while SVG has to maintain
additional references to each object that it renders. Also, though not
pictured, note that performance in clearing an SVG element also decreases in
the number of drawn objects. </p>

<p><img src="/canvas-vs-svg-performance/varying-drawing-area-height.png" alt="Varying drawing area height" /> </p>

<p>When varying the size of the drawing area, canvas performance degrades
significantly, while SVG performance is completely unaffected.  Canvas
rendering performance seems to degrade linearly in the number of pixels in the
canvas area. Not pictured on the graph is clear performance for large canvases,
which also suffers linearly in pixel count.</p>

<p>I did not include the graph resulting from varying circle size as it had no
significant impact on render time. Another interesting observation is that
creating the canvas element takes a mysterious 10 ms on Firefox, but not on
Safari. This is not significant unless you are dealing with large numbers of
canvas elements.</p>

<p>Whether or not you use Canvas or SVG mostly depends on your specific
application. A graphics-intensive game, where many objects are redrawn all the
time is probably best implemented in Canvas. On the other hand, applications
like map viewers may involve large rendering areas and might lend themselves
better to SVG.</p>

<p>As always, please comment if something is unclear, inconsistent, boring or
omitted. Thanks!</p>

    </div>
    <div class='subfooter'>
      <div class='tombstone'>▪</div>
      <time class='published'>January 19, 2009</time>
    </div>
  </article>
</section>


<footer>
  <div>
    © Copyright 2005–2023 Boris Smus.
  </div>
  <nav role="footer">
    <a href='https://smus.com/atom.xml'>RSS</a>
  </nav>
</footer>

<!-- Misc scripts: syntax highlighting, analytics, stats. -->
<script src="/static/js/highlight.pack.js"></script>
<script>
  // Syntax highlighting for code.
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
</script>
<script>
  // Google Analytics.
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-17930798-22', 'smus.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>
<script src="/lightning_error.js"></script>

</body>
</html>