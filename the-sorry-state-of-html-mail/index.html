<!DOCTYPE html>
<html>
<head>
  <title>The sorry state of HTML mail | Boris Smus</title>

  <meta charset='utf-8' />
  <meta name='viewport' content='width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0' />

  <meta name="description" content="Complaining about how terrible it is to create HTML email that renders properly in multiple mail clients." />
  <meta name="author" content="Boris Smus" />
  <link rel="canonical" href="https://smus.com/the-sorry-state-of-html-mail/" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="The sorry state of HTML mail" />
  <meta name="twitter:description" content="Complaining about how terrible it is to create HTML email that renders properly in multiple mail clients." />

  <!-- Facebook -->
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://smus.com/the-sorry-state-of-html-mail/" />
  <meta property="og:title" content="The sorry state of HTML mail" />
  <meta property="og:description" content="Complaining about how terrible it is to create HTML email that renders properly in multiple mail clients." />

  <!-- Mastodon -->
  <link rel="me" href="https://mastodon.social/@borismus">

  <!-- Coil monetization experiment: https://coil.com/settings/monetize -->
  <meta name="monetization" content="$ilp.uphold.com/4Fnyw8KLaPZG">

  <!-- Icons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/static/icons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/static/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/static/icons/favicon-16x16.png">
  <link rel="manifest" href="/static/icons/site.webmanifest">

  <!-- Styles -->
  <link
  href='//fonts.googleapis.com/css?family=Roboto+Condensed:300|Open+Sans+Condensed:700|Source+Serif+Pro:400,700|Inconsolata' rel='stylesheet' type='text/css'>
  <link rel='stylesheet' href='/static/css/style.css'>
  <link rel='stylesheet' href='/static/css/syntax-highlight.css'>

  <!-- Feed -->
  <link href="https://smus.com/atom.xml" rel="alternate" title="Boris Smus" type="application/atom+xml"/>
</head>
<body>
<header>
  <div id='title'>
    <h1><a href='/'>Boris Smus</a></h1>
    <h2>interaction engineering</h2>
  </div>
  <nav role='navigation'>
    <a href='/about/' >About</a>
    <a href='/blog/' >Blog</a>
    <a href='/projects/' >Projects</a>
  </nav>
</header>

<section id='main'>
  <article>
    <a href='/the-sorry-state-of-html-mail'><h1 class='title'>The sorry state of HTML mail</h1></a>
    <div class='body'>
      <p>Web design used to be a black art. Ten years ago, browser differences used to
be so dramatic that the only viable solution for an HTML designer was to fall
back to the least common denominator for page layout, which was HTML tables. In
today's web design community, using table layouts is considered to be a heinous
crime, since most popular modern rendering engines (IE, Gecko and WebKit) are
converging to some shared interpretation of web standards. Unlike layout
engines on the web, though, rich mail interpreters have remained stagnant, and
in some cases have regressed. <strike>Without pointing any fingers...</strike></p>
<p>Much of the blame for this difference lies in Microsoft's decision to use the
same engine for composing and viewing email in Outlook 2007. They wanted to
make the life of email designers easier, or so the story goes. But since
Internet Explorer doesn't have editing functionality, and Front Page is too
heavy to embed, the remaining choice was Word '07. Unfortunately, Word's
rendering engine is extremely limited, in the following notable ways:</p>
<ol>
<li>No positioning or floating elements, so CSS-based layouts are out</li>
<li>No CSS backgrounds, combined with (1) means that there's no way to
    have an image background at all.</li>
</ol>
<p>So, if you care a significant population of email readers (7% use Outlook '07),
and want to deliver a rich media email, you are condemned to designing with
table layouts, or to skip HTML altogether, and simply use images. </p>
<p>For a long time, there was no good way of determining a
breakdown of email client usage. Recently, the good people at
fingerprint have come up with a solution, and now use a large sample of
people to determine global <a href="http://fingerprintapp.com/email-client-stats">email client usage statistics</a>. According
to them, Hotmail, Yahoo Mail and Gmail add up to roughly 50% of all
usage. </p>
<p>Since the UI of a web-based email client is written in HTML, so it is critical
for webmail developers to ensure that the CSS and HTML found in the email does
not interfere with the global look and feel. The canonical solutions are to
decorate all ids and classes in the email with some kind of prefix to ensure
that there are no name collisions, and use a white list approach to CSS styles.
These white lists are usually quite long, but lack some important and oft-used
properties. For example, CSS image backgrounds are disallowed, except on Yahoo.
And of course, Microsoft had to leave its bizarre mark too: Hotmail strips the
margin-top property, but not the margin-bottom property. </p>
<p>Historically,
webmail clients used to ignore anything outside of the <code>&lt;body\&gt;</code> tag,
which meant that all CSS had to be written inline, leading to
unmaintainable layouts. In recent tests, however, popular webmail
clients no longer ignore <code>&lt;style\&gt;</code> elements in the <code>&lt;head\&gt;</code>, and instead,
apply the CSS sparingly inline. Among modern native mail clients, there
is a positive trend as well. Microsoft Live Mail uses the IE7 rendering
engine, Thunderbird uses Gecko and Mail.app uses WebKit. So it looks
like there is light at the end of the tunnel for downtrodden HTML email
designers. In the meantime though, I send them my deepest condolences.</p>
    </div>
    <div class='subfooter'>
      <div class='tombstone'>▪</div>
      <time class='published'>October 31, 2008</time>
    </div>
  </article>
</section>


<footer>
  <div>
    © Copyright 2005–2025 Boris Smus.
  </div>
  <nav role="footer">
    <a href='https://smus.com/atom.xml'>RSS</a>
    <a style="display: none" rel="me" href="https://mastodon.social/@borismus">Mastodon</a>
  </nav>
</footer>

<!-- Misc scripts: syntax highlighting, analytics, stats. -->
<script src="/static/js/highlight.pack.js"></script>
<!-- Syntax highlighting for code. -->
<script>
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
</script>
<!-- Lightning builder error check. -->
<script src="/lightning_error.js"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-38Y45XD5VQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-38Y45XD5VQ');
</script>


</body>
</html>